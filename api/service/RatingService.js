const _0x4160=['offset','limit','findRatings','Routine\x20id\x20','getRatingById','getRatings','./../utils/PagedResult','build','calculateRating','getRoutineById','\x20not\x20found','userId','insertRating','findRatingsForUser','./../errors/errors','creator'];(function(_0x5b1fd2,_0x4160c9){const _0x87cae=function(_0x1041d1){while(--_0x1041d1){_0x5b1fd2['push'](_0x5b1fd2['shift']());}};_0x87cae(++_0x4160c9);}(_0x4160,0x67));const _0x87ca=function(_0x5b1fd2,_0x4160c9){_0x5b1fd2=_0x5b1fd2-0x0;let _0x87cae=_0x4160[_0x5b1fd2];return _0x87cae;};const _0x2b21c4=_0x87ca;'use strict';const {PagedResult}=require(_0x2b21c4('0xf')),{NotFoundError,ForbiddenError}=require(_0x2b21c4('0x7'));exports['addRating']=async(_0x1041d1,_0x447593,_0x23e329)=>{const _0x2a4b24=_0x2b21c4;try{const {RatingRepository:_0x5a9920,RoutineRepository:_0x26174a}=_0x1041d1,_0x7bf673=await _0x26174a[_0x2a4b24('0x2')](_0x447593);if(!_0x7bf673)throw new NotFoundError([_0x2a4b24('0xc')+_0x447593+_0x2a4b24('0x3')]);return await _0x5a9920[_0x2a4b24('0x5')](_0x447593,_0x23e329),await _0x5a9920[_0x2a4b24('0x1')](_0x447593),await _0x5a9920[_0x2a4b24('0xd')](_0x447593);}catch(_0x28ffc7){throw _0x28ffc7;}},exports[_0x2b21c4('0xb')]=async(_0x111110,_0x1c1142,_0x408959,_0x5ef7e4,_0x234071,_0x1012c8,_0x669b2b)=>{const _0xc98786=_0x2b21c4;try{const {RoutineRepository:_0x5818f8,RatingRepository:_0x54db51}=_0x111110,_0x373fce=await _0x5818f8[_0xc98786('0x2')](_0x408959);if(!_0x373fce)throw new NotFoundError([_0xc98786('0xc')+_0x408959+_0xc98786('0x3')]);let _0x3f3739={'routineId':_0x408959};_0x373fce[_0xc98786('0x8')]['id']!==_0x1c1142['id']&&(_0x3f3739[_0xc98786('0x4')]=_0x1c1142['id']);const _0x585012=PagedResult[_0xc98786('0xa')](_0x234071),_0x2c7d64=PagedResult[_0xc98786('0x9')](_0x5ef7e4,_0x585012);let _0x4f3438=await _0x54db51[_0xc98786('0xe')](_0x3f3739,_0x2c7d64,_0x585012,_0x1012c8,_0x669b2b);return PagedResult[_0xc98786('0x0')](_0x4f3438);}catch(_0x35df17){throw _0x35df17;}},exports[_0x2b21c4('0x6')]=async(_0x40f945,_0x5e7294,_0x2d544b,_0x59f993,_0x48571b,_0x4aefd1)=>{const _0x2b3d66=_0x2b21c4;try{const {UserRepository:_0x1532e4,RatingRepository:_0x4bb49c}=_0x40f945,_0x5f29a7={'userId':_0x5e7294['id']},_0x523300=PagedResult[_0x2b3d66('0xa')](_0x59f993),_0x4b694b=PagedResult[_0x2b3d66('0x9')](_0x2d544b,_0x523300);let _0x55dd1c=await _0x4bb49c[_0x2b3d66('0xe')](_0x5f29a7,_0x4b694b,_0x523300,_0x48571b,_0x4aefd1);return PagedResult[_0x2b3d66('0x0')](_0x55dd1c);}catch(_0x2bbaeb){throw _0x2bbaeb;}};