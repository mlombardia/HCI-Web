const _0x5c54=['./../errors/errors','addRoutine','associateRoutineSport','getSportById','Sport\x20id\x20','Category\x20id\x20','User\x20is\x20not\x20creator\x20of\x20routineId\x20','creator','\x20not\x20found','offset','disassociateRoutineSport','./../utils/PagedResult','updateRoutine','category','findRoutines','log','Routine\x20id\x20','deleteRoutine','getSportsByRoutineId','build','getRoutineById','getCategoryById','dissociateRoutineSport'];(function(_0x246448,_0x5c54ec){const _0x12ad59=function(_0x6cb8e2){while(--_0x6cb8e2){_0x246448['push'](_0x246448['shift']());}};_0x12ad59(++_0x5c54ec);}(_0x5c54,0x1e3));const _0x12ad=function(_0x246448,_0x5c54ec){_0x246448=_0x246448-0x0;let _0x12ad59=_0x5c54[_0x246448];return _0x12ad59;};const _0x42b87a=_0x12ad;'use strict';const {PagedResult}=require(_0x42b87a('0xb')),{NotFoundError,ForbiddenError}=require(_0x42b87a('0x0'));exports[_0x42b87a('0x1')]=async(_0x6cb8e2,_0x5220ab)=>{const _0x3e5ad7=_0x42b87a;try{const {CategoryRepository:_0x39633d,RoutineRepository:_0x2c5312}=_0x6cb8e2,_0x5845b6=await _0x39633d[_0x3e5ad7('0x15')](_0x5220ab[_0x3e5ad7('0xd')]['id']);if(!_0x5845b6)throw new NotFoundError([_0x3e5ad7('0x5')+_0x5220ab['category']['id']+'\x20not\x20found']);return await _0x2c5312['insertRoutine'](_0x5220ab);}catch(_0x270749){throw _0x270749;}},exports[_0x42b87a('0x2')]=async(_0xc6e513,_0x48cde7,_0x5cac0a,_0x49f421)=>{const _0x584541=_0x42b87a;try{const {RoutineRepository:_0x147754,SportRepository:_0x56bb83,RoutineSportRepository:_0x4e8d23}=_0xc6e513,_0x55e80c=await _0x147754[_0x584541('0x14')](_0x5cac0a);if(!_0x55e80c)throw new NotFoundError(['Routine\x20id\x20'+_0x5cac0a+_0x584541('0x8')]);if(_0x55e80c[_0x584541('0x7')]['id']!==_0x48cde7['id'])throw new ForbiddenError([_0x584541('0x6')+_0x5cac0a]);const _0x34ff05=await _0x56bb83[_0x584541('0x3')](_0x49f421);if(!_0x34ff05)throw new NotFoundError([_0x584541('0x4')+_0x49f421+'\x20not\x20found']);await _0x4e8d23['associateRoutineSport'](_0x5cac0a,_0x49f421);}catch(_0x38a7e6){throw _0x38a7e6;}},exports[_0x42b87a('0x11')]=async(_0x5f0c23,_0x11c329,_0x18cb06)=>{const _0x31b01b=_0x42b87a;try{const {RoutineRepository:_0x2c82cb}=_0x5f0c23,_0xea9e27=await _0x2c82cb['getRoutineById'](_0x18cb06);if(!_0xea9e27)throw new NotFoundError([_0x31b01b('0x10')+_0x18cb06+_0x31b01b('0x8')]);if(_0xea9e27[_0x31b01b('0x7')]['id']!==_0x11c329['id'])throw new ForbiddenError(['User\x20is\x20not\x20creator\x20of\x20routineId\x20'+_0x18cb06]);await _0x2c82cb[_0x31b01b('0x11')](_0x18cb06);}catch(_0x285e98){throw _0x285e98;}},exports[_0x42b87a('0x16')]=async(_0x3e3ee2,_0x51a1ce,_0xc446c6,_0x286092)=>{const _0x926db2=_0x42b87a;try{const {RoutineRepository:_0x1d49e0,SportRepository:_0x4ffcad,RoutineSportRepository:_0x38d148}=_0x3e3ee2,_0x650cfa=await _0x1d49e0[_0x926db2('0x14')](_0xc446c6);if(!_0x650cfa)throw new NotFoundError(['Routine\x20id\x20'+_0xc446c6+_0x926db2('0x8')]);if(_0x650cfa[_0x926db2('0x7')]['id']!==_0x51a1ce['id'])throw new ForbiddenError([_0x926db2('0x6')+_0xc446c6]);const _0x396c84=await _0x4ffcad[_0x926db2('0x3')](_0x286092);if(!_0x396c84)throw new NotFoundError([_0x926db2('0x4')+_0x286092+_0x926db2('0x8')]);await _0x38d148[_0x926db2('0xa')](_0xc446c6,_0x286092);}catch(_0x21f203){throw _0x21f203;}},exports[_0x42b87a('0xe')]=async(_0x39b71f,_0x4dfccc,_0x558b81,_0x214ffe,_0xf88063,_0x5772a1)=>{const _0x248f2a=_0x42b87a;try{const {RoutineRepository:_0x232cbf}=_0x39b71f,_0x5d7351=PagedResult['limit'](_0x214ffe),_0x44f79d=PagedResult[_0x248f2a('0x9')](_0x558b81,_0x5d7351);let _0x4c5cad=await _0x232cbf['getRoutines'](_0x4dfccc,_0x44f79d,_0x5d7351,_0xf88063,_0x5772a1);return PagedResult[_0x248f2a('0x13')](_0x4c5cad);}catch(_0x1596a9){throw _0x1596a9;}},exports['getRoutineSports']=async(_0x49ef92,_0x540dbf,_0x5479a1,_0x83702b,_0x148510)=>{const _0x268a97=_0x42b87a;try{const {RoutineRepository:_0x2be8f8,RoutineSportRepository:_0x2dcfb3}=_0x49ef92,_0x42a8a7=await _0x2be8f8[_0x268a97('0x14')](_0x540dbf);if(!_0x42a8a7)throw new NotFoundError([_0x268a97('0x10')+_0x540dbf+_0x268a97('0x8')]);const _0x5ed3d0=PagedResult['limit'](_0x83702b),_0x278dfb=PagedResult['offset'](_0x5479a1,_0x5ed3d0);let _0x2c45fc=await _0x2dcfb3[_0x268a97('0x12')](_0x540dbf,_0x278dfb,_0x5ed3d0,_0x148510);return PagedResult[_0x268a97('0x13')](_0x2c45fc);}catch(_0x47a2eb){console[_0x268a97('0xf')](_0x47a2eb);throw _0x47a2eb;}},exports['getRoutine']=async(_0x45ac42,_0x359566)=>{const _0xb270b6=_0x42b87a;try{const {RoutineRepository:_0xb2c0b9}=_0x45ac42;let _0x5956d5=await _0xb2c0b9['getRoutineById'](_0x359566);if(!_0x5956d5)throw new NotFoundError([_0xb270b6('0x10')+_0x359566+_0xb270b6('0x8')]);return _0x5956d5;}catch(_0x113790){throw _0x113790;}},exports[_0x42b87a('0xc')]=async(_0x19350b,_0x3af03d,_0x3e35c3,_0x2603b8)=>{const _0x2365b2=_0x42b87a;try{const {CategoryRepository:_0xab1a75,RoutineRepository:_0x4fd7e4}=_0x19350b,_0x44d4f8=await _0x4fd7e4['getRoutineById'](_0x3e35c3);if(!_0x44d4f8)throw new NotFoundError([_0x2365b2('0x10')+_0x3e35c3+_0x2365b2('0x8')]);if(_0x44d4f8['creator']['id']!==_0x3af03d['id'])throw new ForbiddenError([_0x2365b2('0x6')+_0x3e35c3]);if(_0x2603b8[_0x2365b2('0xd')]&&_0x2603b8[_0x2365b2('0xd')]['id']!==_0x44d4f8['category']['id']){const _0x448f59=await _0xab1a75[_0x2365b2('0x15')](_0x2603b8[_0x2365b2('0xd')]['id']);if(!_0x448f59)throw new NotFoundError([_0x2365b2('0x5')+_0x2603b8[_0x2365b2('0xd')]['id']+_0x2365b2('0x8')]);}const _0x567405=await _0x4fd7e4['updateRoutine'](_0x3e35c3,_0x2603b8);if(!_0x567405)throw new NotFoundError([_0x2365b2('0x10')+_0x3e35c3+_0x2365b2('0x8')]);return _0x567405;}catch(_0x36de01){throw _0x36de01;}};