const _0x52d6=['getFirstEmailCodeByUserId','handleError','deleteEmailCode','delete','isArray','insert','exports','handleConstraintError','update','verified','where','length','./RepositoryBase','Email_code','updateEmailCode','insertEmailCode'];(function(_0x1d0873,_0x52d6f0){const _0x50b63e=function(_0x14805f){while(--_0x14805f){_0x1d0873['push'](_0x1d0873['shift']());}};_0x50b63e(++_0x52d6f0);}(_0x52d6,0x1ea));const _0x50b6=function(_0x1d0873,_0x52d6f0){_0x1d0873=_0x1d0873-0x0;let _0x50b63e=_0x52d6[_0x1d0873];return _0x50b63e;};const _0x535252=_0x50b6,RepositoryBase=require(_0x535252('0x2'));module[_0x535252('0xc')]=class EmailCodeRepository extends RepositoryBase{constructor(_0x14805f){super(),this['db']=_0x14805f;}async[_0x535252('0x6')](_0x287984){const _0x1e8905=_0x535252;try{let _0x2f464a=await this['db'](_0x1e8905('0x3'))[_0x1e8905('0x0')]({'userId':_0x287984});if(!Array[_0x1e8905('0xa')](_0x2f464a)||_0x2f464a[_0x1e8905('0x1')]===0x0)return undefined;const _0x27bb81=_0x2f464a[0x0];return _0x27bb81[_0x1e8905('0xf')]=_0x27bb81['verified']!==0x0,_0x27bb81;}catch(_0x1d7da0){throw super[_0x1e8905('0x7')](_0x1d7da0);}}async[_0x535252('0x5')](_0x2854c5){const _0x3037c1=_0x535252;try{const {userId:_0x4a878d,code:_0x35c258,expirationDate:_0x32463e}=_0x2854c5,_0x15af65=await this['db']('Email_code')[_0x3037c1('0xb')]({'userId':_0x4a878d,'code':_0x35c258,'expirationDate':_0x32463e});if(!_0x15af65)return undefined;return await this[_0x3037c1('0x6')](_0x4a878d);}catch(_0x45f7c9){throw super[_0x3037c1('0xd')](_0x45f7c9);}}async[_0x535252('0x4')](_0x2f5168,_0x508b4e){const _0x14366a=_0x535252;try{const {code:_0x10efd5,expirationDate:_0x3b5e4e}=_0x508b4e,_0x59c81a=await this['db'](_0x14366a('0x3'))[_0x14366a('0x0')]({'userId':_0x2f5168})[_0x14366a('0xe')]({'code':_0x10efd5,'expirationDate':_0x3b5e4e});if(_0x59c81a===0x0)return undefined;return await this[_0x14366a('0x6')](_0x2f5168);}catch(_0xc94bb4){throw super[_0x14366a('0xd')](_0xc94bb4);}}async[_0x535252('0x8')](_0x127f9d){const _0xb6ee97=_0x535252;try{return await this['db'](_0xb6ee97('0x3'))[_0xb6ee97('0x0')]({'userId':_0x127f9d})[_0xb6ee97('0x9')]();}catch(_0x1cccf6){throw super[_0xb6ee97('0x7')](_0x1cccf6);}}};