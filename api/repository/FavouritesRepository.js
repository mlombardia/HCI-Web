const _0x1a23=['where','deleteFavourite','./RepositoryBase','select','./RoutineRepository','from','exports','getRoutines','RoutineRepository','delete','getFavouritesByUserId','Favourites','routineId','handleError','insert'];(function(_0x1d1a7e,_0x1a2316){const _0x20e742=function(_0x5bd4e3){while(--_0x5bd4e3){_0x1d1a7e['push'](_0x1d1a7e['shift']());}};_0x20e742(++_0x1a2316);}(_0x1a23,0xd1));const _0x20e7=function(_0x1d1a7e,_0x1a2316){_0x1d1a7e=_0x1d1a7e-0x0;let _0x20e742=_0x1a23[_0x1d1a7e];return _0x20e742;};const _0x4c8d6e=_0x20e7,RepositoryBase=require(_0x4c8d6e('0x3'));module[_0x4c8d6e('0x7')]=class FavouritesRepository extends RepositoryBase{constructor(_0x5bd4e3){super(),this['db']=_0x5bd4e3;}async['addFavourite'](_0x15c3d2,_0x49ed53){const _0x7aa596=_0x4c8d6e;try{const _0x5de5c0=await this['db'](_0x7aa596('0xc'))[_0x7aa596('0x0')]({'userId':_0x15c3d2,'routineId':_0x49ed53});return _0x5de5c0;}catch(_0x288d7b){throw super['handleConstraintError'](_0x288d7b);}}async[_0x4c8d6e('0x2')](_0x3ccd3a,_0x114509){const _0x98401e=_0x4c8d6e;try{return await this['db']('Favourites')[_0x98401e('0x1')]({'userId':_0x3ccd3a,'routineId':_0x114509})[_0x98401e('0xa')]();}catch(_0x360a72){throw super[_0x98401e('0xe')](_0x360a72);}}async[_0x4c8d6e('0xb')](_0x33bbcc,_0x10e7a0,_0x658c31,_0x8016fc,_0x5a421d){const _0x111c1a=_0x4c8d6e;let _0x4be0e3;try{_0x4be0e3=await this['db'][_0x111c1a('0x4')]('routineId')[_0x111c1a('0x6')](_0x111c1a('0xc'))[_0x111c1a('0x1')]({'userId':_0x33bbcc});}catch(_0x11c449){throw super[_0x111c1a('0xe')](_0x11c449);}_0x4be0e3=_0x4be0e3['reduce']((_0x14ece8,_0xb23b45)=>_0x14ece8=[..._0x14ece8,_0xb23b45[_0x111c1a('0xd')]],[]);if(!this['RoutineRepository']){const _0xb4a198=require(_0x111c1a('0x5'));this[_0x111c1a('0x9')]=new _0xb4a198(this['db']);}return await this[_0x111c1a('0x9')][_0x111c1a('0x8')]({'id':_0x4be0e3},_0x10e7a0,_0x658c31,_0x8016fc,_0x5a421d);}};